webpackJsonp([43],{VpKd:function(e,t,r){"use strict";var a=r("xipm");t.a={props:["dataSource"],data:function(){return{formColumns:[{label:"插件名称",prop:"pluginName"},{label:"地址",prop:"site"},{label:"描述",prop:"describe"},{label:"图标",prop:"menuIcon"}],textMap:{create:"新增",update:"编辑"},dialogStatus:"",dialogFormVisible:!1,temp:{id:"",value:"",module:"是",status:"启用"},formRules:{},moduleOptions:["是","否"],operation:!1,dataArr:[]}},created:function(){var e=this;a.a.$on("add-form",function(t,r){if(0===e.dataArr.length){var a=!0,l=!1,i=void 0;try{for(var o,n=t[Symbol.iterator]();!(a=(o=n.next()).done);a=!0){var s=o.value;s.children&&e.dataArr.push(s)}}catch(e){l=!0,i=e}finally{try{!a&&n.return&&n.return()}finally{if(l)throw i}}}e.temp=r,e.dialogStatus="create",e.dialogFormVisible=!0}),a.a.$on("edit-form",function(t,r){e.temp=Object.assign({},t),e.dialogStatus="update",e.dialogFormVisible=!0})},methods:{create:function(){var e=this;this.$refs.temp.validate(function(t){if(t){var r=Object.assign({},e.temp),a=!0,l=!1,i=void 0;try{for(var o,n=e.dataArr[Symbol.iterator]();!(a=(o=n.next()).done);a=!0){var s=o.value;s.id==r.value&&(e.temp.id=s.children[s.children.length-1].id+1,s.children.unshift(r))}}catch(e){l=!0,i=e}finally{try{!a&&n.return&&n.return()}finally{if(l)throw i}}e.resetForm("temp"),e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})}})},update:function(){var e=this;this.$refs.temp.validate(function(t){var r=Object.assign({},e.temp);if(t){var a=!0,l=!1,i=void 0;try{for(var o,n=e.dataArr[Symbol.iterator]();!(a=(o=n.next()).done);a=!0){var s=o.value;if(s.id===r.id)for(var u in r)s[u]=r[u]}}catch(e){l=!0,i=e}finally{try{!a&&n.return&&n.return()}finally{if(l)throw i}}e.resetForm("temp"),e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})}})},resetForm:function(e){this.dialogFormVisible=!1,this.$refs[e].resetFields()}}}},dRiC:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"temp",attrs:{model:e.temp,"label-width":"80px",rules:e.formRules}},[r("el-form-item",{attrs:{label:"父级菜单",prop:"pluginName"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.temp.value,callback:function(t){e.temp.value=t},expression:"temp.value"}},e._l(e.dataArr,function(e){return r("el-option",{key:e.id,attrs:{label:e.pluginName,value:e.id,disabled:e.disabled}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"模块",prop:"module"}},[r("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:e.temp.module,callback:function(t){e.temp.module=t},expression:"temp.module"}},e._l(e.moduleOptions,function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),e._l(e.formColumns,function(t){return r("el-form-item",{key:t.prop,attrs:{label:t.label,prop:t.prop}},[r("el-input",{attrs:{type:"text"},model:{value:e.temp[t.prop],callback:function(r){e.$set(e.temp,t.prop,r)},expression:"temp[item.prop]"}})],1)})],2),e._v(" "),r("div",{staticClass:"dialog-footer",slot:"footer"},[r("el-button",{on:{click:function(t){e.resetForm("temp")}}},[e._v("取 消")]),e._v(" "),"create"==e.dialogStatus?r("el-button",{attrs:{type:"primary"},on:{click:e.create}},[e._v("确 定")]):r("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("确 定")])],1)],1)},l=[],i={render:a,staticRenderFns:l};t.a=i},mue7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("VpKd"),l=r("dRiC"),i=r("J0+h"),o=i(a.a,l.a,null,null,null);t.default=o.exports},xipm:function(e,t,r){"use strict";var a=r("UFcW");t.a=new a.default}});