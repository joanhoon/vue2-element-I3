webpackJsonp([16,44,48],{"39Q7":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("T7Du"),r=a("n0jC"),s=a("J0+h"),n=s(i.a,r.a,null,null,null);e.default=n.exports},"4SVi":function(t,e,a){"use strict";var i=a("lbbG");a.n(i);e.a={bind:function(t,e){t.addEventListener("click",function(a){var i=Object.assign({},e.value),r=Object.assign({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),s=r.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var n=s.getBoundingClientRect(),o=s.querySelector(".waves-ripple");switch(o?o.className="waves-ripple":(o=document.createElement("span"),o.className="waves-ripple",o.style.height=o.style.width=Math.max(n.width,n.height)+"px",s.appendChild(o)),r.type){case"center":o.style.top=n.height/2-o.offsetHeight/2+"px",o.style.left=n.width/2-o.offsetWidth/2+"px";break;default:o.style.top=a.pageY-n.top-o.offsetHeight/2-document.body.scrollTop+"px",o.style.left=a.pageX-n.left-o.offsetWidth/2-document.body.scrollLeft+"px"}return o.style.backgroundColor=r.color,o.className="waves-ripple z-active",!1}},!1)}}},"C/rY":function(t,e,a){"use strict";var i=a("xipm"),r=a("4SVi"),s=a("YznD"),n=a("39Q7");e.a={directives:{waves:r.a},components:{addEditForm:s.default,paging:n.default},props:["columns","formColumns"],data:function(){return{dataSource:[],SFManage:!1,operation:!0,dialogFormVisible:!1,formRules:{},data:[],dataList:[],dataFilter:"",listQuery:{},textMap:{SManage:"服务管理",FManage:"功能管理"},dialogStatus:""}},filters:{statusFilter:function(t){return{"启用":"success","禁用":"danger"}[t]}},created:function(){var t=this;i.a.$on("sf-manage",function(e,a){t.dataSource=a,t.dialogStatus=e,t.dialogFormVisible=!0,t.getList(t.dataFilter)}),i.a.$on("listQuery",function(e){t.listQuery=e,t.getList(t.dataFilter)}),i.a.$on("formData",function(){t.dataFilter="",i.a.$emit("resetFilter"),t.listQuery.page=1,t.getList()})},methods:{handleClick:function(t){var e=this;this.dataList=this.dataSource.filter(function(a){if("FManage"==e.dialogStatus){if(a.functionName.indexOf(t)>-1||a.controlName.indexOf(t)>-1||a.describe.indexOf(t)>-1)return!0}else if(a.ip.indexOf(t)>-1||a.port.indexOf(t)>-1||a.name.indexOf(t)>-1||a.filePath.indexOf(t)>-1||a.describe.indexOf(t)>-1)return!0}),this.dataFilter=t,this.getList(t)},getList:function(t){var e=this.listQuery.limit,a=this.listQuery.page;t&&t.length>0?(this.listQuery.total=this.dataList.length,this.data=this.dataList.slice((a-1)*e,a*e)):(this.listQuery.total=this.dataSource.length,this.data=this.dataSource.slice((a-1)*e,a*e))},handleCreateFM:function(){i.a.$emit("jh-add-form")},handleEdit:function(t){i.a.$emit("jh-edit-form",t)},handleModifyStatus:function(t,e){this.$message.success("操作成功"),t.status=e}},updated:function(){var t=document.querySelector("#SFManage");t&&(t.style.height=document.documentElement.clientHeight-250+"px",window.onresize=function(){t.style.height=document.documentElement.clientHeight-250+"px"})}}},GFHU:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible,size:"large",top:"5%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("div",{staticClass:"toolbar"},[a("div",{staticClass:"tool-container clearfix"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary"},on:{click:t.handleCreateFM}},[a("icon-svg",{attrs:{"icon-class":"add"}}),t._v(" 新增")],1),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"document"},on:{click:function(e){t.operation=!t.operation}}},[t._v("编辑模式")]),t._v(" "),a("div",{staticClass:"filter-input"},[a("el-input",{attrs:{icon:"search",size:"small",placeholder:"插件名称"},on:{change:t.handleClick},model:{value:t.dataFilter,callback:function(e){t.dataFilter=e},expression:"dataFilter"}})],1)],1)]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{id:"SFManage",data:t.data,border:"",height:"x"}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"40"}}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"序号",align:"center",width:"40",fixed:"left"}}),t._v(" "),t._l(t.columns,function(e){return a("el-table-column",{key:e.value,attrs:{label:e.label,"min-width":e.width,"show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row[e.value]==i.row.status?a("el-tag",{attrs:{type:t._f("statusFilter")(i.row.status)}},[t._v(t._s(i.row.status))]):t._e(),t._v(" "),i.row[e.value]!=i.row.status?a("span",[t._v(t._s(i.row[e.value]))]):t._e()]}}])})}),t._v(" "),t.operation?a("el-table-column",{attrs:{align:"center",label:"操作",width:"125",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return["启用"!=e.row.status?a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(a){t.handleModifyStatus(e.row,"启用")}}},[t._v("启用")]):t._e(),t._v(" "),"禁用"!=e.row.status?a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){t.handleModifyStatus(e.row,"禁用")}}},[t._v("禁用")]):t._e(),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){t.handleEdit(e.row)}}},[t._v("编辑")])]}}])}):t._e()],2),t._v(" "),a("paging",{attrs:{dataSource:t.dataSource}})],1),t._v(" "),a("add-edit-form",{attrs:{formColumns:t.formColumns,formRules:t.formRules,dataSource:t.dataSource}})],1)},r=[],s={render:i,staticRenderFns:r};e.a=s},T7Du:function(t,e,a){"use strict";var i=a("xipm");e.a={props:["dataSource"],data:function(){return{data:null,listQuery:{total:null,page:1,limit:50,pageSizes:[1,2,20,50,100,300]}}},created:function(){this.listQuery.total=this.dataSource,i.a.$emit("listQuery",this.listQuery)},methods:{handleSizeChange:function(t){this.listQuery.limit=t,i.a.$emit("listQuery",this.listQuery)},handleCurrentChange:function(t){this.listQuery.page=t,i.a.$emit("listQuery",this.listQuery)}}}},YznD:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("jKCG"),r=a("x0bm"),s=a("J0+h"),n=s(i.a,r.a,null,null,null);e.default=n.exports},jKCG:function(t,e,a){"use strict";var i=a("lQSI"),r=a("xipm"),s=a("0xDb"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t};e.a={props:["treeGridForm","formColumns","formRules","dataSource"],data:function(){return{dialogFormVisible:!1,textMap:{create:"新增",update:"编辑"},dialogStatus:"",temp:{},moduleOptions:["启用","禁用"],dataArr:[]}},computed:n({},a.i(i.b)(["name","avatar","roles"])),mapGetters:function(){},created:function(){var t=this,e=this;r.a.$on("jh-add-form",function(a){if(void 0!=a&&0===e.dataArr.length){var i=!0,r=!1,s=void 0;try{for(var n,o=a[Symbol.iterator]();!(i=(n=o.next()).done);i=!0){var l=n.value;l.children&&e.dataArr.push(l)}}catch(t){r=!0,s=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw s}}}t.temp={id:"",value:"",module:"是",status:"启用"},e.dialogStatus="create",e.dialogFormVisible=!0}),r.a.$on("jh-edit-form",function(t){e.temp=Object.assign({},t),e.dialogStatus="update",e.dialogFormVisible=!0})},methods:{create:function(){var t=this;this.$refs.temp.validate(function(e){if(e){t.temp.id=t.dataSource.length+1,t.temp.creatorName=t.name,t.temp.createTime=a.i(s.b)(new Date);var i=Object.assign({},t.temp);if(t.treeGridForm){var n=!0,o=!1,l=void 0;try{for(var u,c=t.dataArr[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var d=u.value;d.id==i.value&&(t.temp.id=d.children[d.children.length-1].id+1,d.children.unshift(i))}}catch(t){o=!0,l=t}finally{try{!n&&c.return&&c.return()}finally{if(o)throw l}}}else t.dataSource.unshift(i);t.resetForm(),r.a.$emit("formData"),t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})}})},update:function(){var t=this;this.$refs.temp.validate(function(e){t.temp.modifierName=t.name,t.temp.modifyTime=a.i(s.b)(new Date);var i=Object.assign({},t.temp);if(e){var n=!0,o=!1,l=void 0;try{for(var u,c=t.dataSource[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var d=u.value;if(d.id===i.id)for(var f in i)d[f]=i[f]}}catch(t){o=!0,l=t}finally{try{!n&&c.return&&c.return()}finally{if(o)throw l}}t.resetForm(),r.a.$emit("formData"),t.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})}})},resetForm:function(){this.dialogFormVisible=!1,this.$refs.temp.resetFields()}}}},"l+Ji":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("C/rY"),r=a("GFHU"),s=a("J0+h"),n=s(i.a,r.a,null,null,null);e.default=n.exports},lbbG:function(t,e,a){var i=a("z+PQ");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("XkoO")("225cb460",i,!0)},n0jC:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":t.listQuery.page,"page-sizes":t.listQuery.pageSizes,"page-size":t.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.listQuery.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.listQuery.page=e}}})],1)},r=[],s={render:i,staticRenderFns:r};e.a=s},x0bm:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"temp",attrs:{model:t.temp,"label-width":"100px",rules:t.formRules}},t._l(t.formColumns,function(e){return a("el-form-item",{key:e.prop,attrs:{label:e.label,prop:e.prop}},["parentMenu"==e.prop?a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.temp.value,callback:function(e){t.temp.value=e},expression:"temp.value"}},t._l(t.dataArr,function(t){return a("el-option",{key:t.id,attrs:{label:t.unitName,value:t.id}})})):t._e(),t._v(" "),"status"==e.prop?a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:t.temp.status,callback:function(e){t.temp.status=e},expression:"temp.status"}},t._l(t.moduleOptions,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})):a("el-input",{attrs:{type:"text"},model:{value:t.temp[e.prop],callback:function(a){t.$set(t.temp,e.prop,a)},expression:"temp[item.prop]"}})],1)})),t._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.resetForm()}}},[t._v("取 消")]),t._v(" "),"create"==t.dialogStatus?a("el-button",{attrs:{type:"primary"},on:{click:t.create}},[t._v("确 定")]):a("el-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("确 定")])],1)],1)},r=[],s={render:i,staticRenderFns:r};e.a=s},xipm:function(t,e,a){"use strict";var i=a("UFcW");e.a=new i.default},"z+PQ":function(t,e,a){e=t.exports=a("YfG4")(!1),e.push([t.i,".waves-ripple{position:absolute;border-radius:100%;background-color:rgba(0,0,0,.15);background-clip:padding-box;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);opacity:1}.waves-ripple.z-active{opacity:0;-webkit-transform:scale(2);-ms-transform:scale(2);transform:scale(2);-webkit-transition:opacity 1.2s ease-out,-webkit-transform .6s ease-out;transition:opacity 1.2s ease-out,-webkit-transform .6s ease-out;transition:opacity 1.2s ease-out,transform .6s ease-out;transition:opacity 1.2s ease-out,transform .6s ease-out,-webkit-transform .6s ease-out}",""])}});