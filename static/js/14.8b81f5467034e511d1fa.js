webpackJsonp([14,16,44,48],{"39Q7":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("T7Du"),r=a("n0jC"),l=a("J0+h"),n=l(i.a,r.a,null,null,null);t.default=n.exports},"4SVi":function(e,t,a){"use strict";var i=a("lbbG");a.n(i);t.a={bind:function(e,t){e.addEventListener("click",function(a){var i=Object.assign({},t.value),r=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),l=r.ele;if(l){l.style.position="relative",l.style.overflow="hidden";var n=l.getBoundingClientRect(),o=l.querySelector(".waves-ripple");switch(o?o.className="waves-ripple":(o=document.createElement("span"),o.className="waves-ripple",o.style.height=o.style.width=Math.max(n.width,n.height)+"px",l.appendChild(o)),r.type){case"center":o.style.top=n.height/2-o.offsetHeight/2+"px",o.style.left=n.width/2-o.offsetWidth/2+"px";break;default:o.style.top=a.pageY-n.top-o.offsetHeight/2-document.body.scrollTop+"px",o.style.left=a.pageX-n.left-o.offsetWidth/2-document.body.scrollLeft+"px"}return o.style.backgroundColor=r.color,o.className="waves-ripple z-active",!1}},!1)}}},"C/rY":function(e,t,a){"use strict";var i=a("xipm"),r=a("4SVi"),l=a("YznD"),n=a("39Q7");t.a={directives:{waves:r.a},components:{addEditForm:l.default,paging:n.default},props:["columns","formColumns"],data:function(){return{dataSource:[],SFManage:!1,operation:!0,dialogFormVisible:!1,formRules:{},data:[],dataList:[],dataFilter:"",listQuery:{},textMap:{SManage:"服务管理",FManage:"功能管理"},dialogStatus:""}},filters:{statusFilter:function(e){return{"启用":"success","禁用":"danger"}[e]}},created:function(){var e=this;i.a.$on("sf-manage",function(t,a){e.dataSource=a,e.dialogStatus=t,e.dialogFormVisible=!0,e.getList(e.dataFilter)}),i.a.$on("listQuery",function(t){e.listQuery=t,e.getList(e.dataFilter)}),i.a.$on("formData",function(){e.dataFilter="",i.a.$emit("resetFilter"),e.listQuery.page=1,e.getList()})},methods:{handleClick:function(e){var t=this;this.dataList=this.dataSource.filter(function(a){if("FManage"==t.dialogStatus){if(a.functionName.indexOf(e)>-1||a.controlName.indexOf(e)>-1||a.describe.indexOf(e)>-1)return!0}else if(a.ip.indexOf(e)>-1||a.port.indexOf(e)>-1||a.name.indexOf(e)>-1||a.filePath.indexOf(e)>-1||a.describe.indexOf(e)>-1)return!0}),this.dataFilter=e,this.getList(e)},getList:function(e){var t=this.listQuery.limit,a=this.listQuery.page;e&&e.length>0?(this.listQuery.total=this.dataList.length,this.data=this.dataList.slice((a-1)*t,a*t)):(this.listQuery.total=this.dataSource.length,this.data=this.dataSource.slice((a-1)*t,a*t))},handleCreateFM:function(){i.a.$emit("jh-add-form")},handleEdit:function(e){i.a.$emit("jh-edit-form",e)},handleModifyStatus:function(e,t){this.$message.success("操作成功"),e.status=t}},updated:function(){var e=document.querySelector("#SFManage");e&&(e.style.height=document.documentElement.clientHeight-250+"px",window.onresize=function(){e.style.height=document.documentElement.clientHeight-250+"px"})}}},"D++E":function(e,t,a){"use strict";var i=a("xipm"),r=a("iIGS"),l=a("4SVi"),n=a("l+Ji");t.a={directives:{waves:l.a},components:{SFManage:n.default},props:["dataSource"],data:function(){return{filtrate:void 0,dataArr:void 0,multipleSelection:[],columns:[],dataSourceSFM:[],formColumns:[]}},created:function(){var e=this;i.a.$on("multiple-selection",function(t){e.multipleSelection=t})},methods:{handleCommand:function(e){"FManage"==e?(this.columns=[{value:"functionName",label:"功能名称",width:"80"},{value:"controlName",label:"控件名称",width:"80"},{value:"describe",label:"描述",width:"80"},{value:"icon",label:"图标的css",width:"80"},{value:"status",label:"状态",width:"80"},{value:"creatorName",label:"创建人",width:"70"},{value:"createTime",label:"创建时间",width:"80"},{value:"modifierName",label:"修改人",width:"70"},{value:"modifyTime",label:"修改时间",width:"80"}],this.dataSourceSFM=[{id:"1",functionName:"a",controlName:"sdfsab",describe:"a",icon:"/var/i3plus/authority",status:"启用",creatorName:"jh",createTime:"2017/11/07",modifierName:"jh",modifyTime:"2017/11/07"},{id:"2",functionName:"a3",controlName:"fdgfdgb",describe:"a",icon:"/var/i3plus/authority",status:"启用",creatorName:"jh",createTime:"2017/11/07",modifierName:"jh",modifyTime:"2017/11/07"},{id:"3",functionName:"4a",controlName:"bhgjghj",describe:"a",icon:"/var/i3plus/authority",status:"启用",creatorName:"jh",createTime:"2017/11/07",modifierName:"jh",modifyTime:"2017/11/07"}],this.formColumns=[{label:"功能名称",prop:"functionName"},{label:"控件名称",prop:"controlName"},{label:"描述",prop:"describe"},{label:"图标的css",prop:"icon"}],i.a.$emit("sf-manage",e,this.dataSourceSFM)):(this.columns=[{value:"ip",label:"IP",width:"80"},{value:"port",label:"端口号",width:"80"},{value:"name",label:"名称",width:"80"},{value:"describe",label:"描述",width:"80"},{value:"filePath",label:"文件路径",width:"80"},{value:"status",label:"状态",width:"80"},{value:"creatorName",label:"创建人",width:"70"},{value:"createTime",label:"创建时间",width:"80"},{value:"modifierName",label:"修改人",width:"70"},{value:"modifyTime",label:"修改时间",width:"80"}],this.dataSourceSFM=[{id:"1",ip:"127.0.0.2",port:"8082",name:"locaafsaflhost",describe:"a",filePath:"/var/i3plus/authority",status:"启用",creatorName:"jh",createTime:"2017/11/07",modifierName:"jh",modifyTime:"2017/11/07"},{id:"2",ip:"127.0.0.1",port:"8083",name:"test",describe:"b",filePath:"/var/i3plus/authority",status:"启用",creatorName:"jh",createTime:"2017/11/07",modifierName:"jh",modifyTime:"2017/11/07"}],this.formColumns=[{label:"ip",prop:"ip"},{label:"端口号",prop:"port"},{label:"名称",prop:"name"},{label:"描述",prop:"describe"},{label:"文件路径",prop:"filePath"}],i.a.$emit("sf-manage",e,this.dataSourceSFM))},dataSourceArr:function(){return r.a.MSDataTransfer.treeToArray(this.dataSource,null,null,!0)},handleClick:function(e){var t=this.dataArr,a=this.filtrate;void 0===t&&(t=this.dataSourceArr());var r=t.filter(function(e){if(e.pluginName.indexOf(a)>-1||e.module.indexOf(a)>-1)return!0});void 0!=a&&i.a.$emit("filtrate",r)},operation:function(){i.a.$emit("operation")},handleCreate:function(){i.a.$emit("add-form",this.dataSourceArr(),{id:"",value:"",module:"是",pluginName:"",site:"",describe:"",menuIcon:"",status:"启用"})},handleDownload:function(){i.a.$emit("handle-download")}}}},GFHU:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,size:"large",top:"5%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("div",{staticClass:"toolbar"},[a("div",{staticClass:"tool-container clearfix"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary"},on:{click:e.handleCreateFM}},[a("icon-svg",{attrs:{"icon-class":"add"}}),e._v(" 新增")],1),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"document"},on:{click:function(t){e.operation=!e.operation}}},[e._v("编辑模式")]),e._v(" "),a("div",{staticClass:"filter-input"},[a("el-input",{attrs:{icon:"search",size:"small",placeholder:"插件名称"},on:{change:e.handleClick},model:{value:e.dataFilter,callback:function(t){e.dataFilter=t},expression:"dataFilter"}})],1)],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{id:"SFManage",data:e.data,border:"",height:"x"}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"40"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"序号",align:"center",width:"40",fixed:"left"}}),e._v(" "),e._l(e.columns,function(t){return a("el-table-column",{key:t.value,attrs:{label:t.label,"min-width":t.width,"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(i){return[i.row[t.value]==i.row.status?a("el-tag",{attrs:{type:e._f("statusFilter")(i.row.status)}},[e._v(e._s(i.row.status))]):e._e(),e._v(" "),i.row[t.value]!=i.row.status?a("span",[e._v(e._s(i.row[t.value]))]):e._e()]}}])})}),e._v(" "),e.operation?a("el-table-column",{attrs:{align:"center",label:"操作",width:"125",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return["启用"!=t.row.status?a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(a){e.handleModifyStatus(t.row,"启用")}}},[e._v("启用")]):e._e(),e._v(" "),"禁用"!=t.row.status?a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleModifyStatus(t.row,"禁用")}}},[e._v("禁用")]):e._e(),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("编辑")])]}}])}):e._e()],2),e._v(" "),a("paging",{attrs:{dataSource:e.dataSource}})],1),e._v(" "),a("add-edit-form",{attrs:{formColumns:e.formColumns,formRules:e.formRules,dataSource:e.dataSource}})],1)},r=[],l={render:i,staticRenderFns:r};t.a=l},MifU:function(e,t,a){"use strict";function i(e){if(!(this instanceof i))return new i(e,null,null)}var r=a("UFcW");i.treeToArray=function(e,t,a,l){var n=[];return Array.from(e).forEach(function(e){void 0===e._expanded&&r.default.set(e,"_expanded",l),t&&r.default.set(e,"_parent",t);var o=0;if(void 0!==a&&null!==a&&(o=a+1),r.default.set(e,"_level",o),n.push(e),e.children&&e.children.length>0){var s=i.treeToArray(e.children,e,o,l);n=n.concat(s)}}),n},t.a=i},T7Du:function(e,t,a){"use strict";var i=a("xipm");t.a={props:["dataSource"],data:function(){return{data:null,listQuery:{total:null,page:1,limit:50,pageSizes:[1,2,20,50,100,300]}}},created:function(){this.listQuery.total=this.dataSource,i.a.$emit("listQuery",this.listQuery)},methods:{handleSizeChange:function(e){this.listQuery.limit=e,i.a.$emit("listQuery",this.listQuery)},handleCurrentChange:function(e){this.listQuery.page=e,i.a.$emit("listQuery",this.listQuery)}}}},YznD:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("jKCG"),r=a("x0bm"),l=a("J0+h"),n=l(i.a,r.a,null,null,null);t.default=n.exports},iIGS:function(e,t,a){"use strict";var i=a("MifU");t.a={MSDataTransfer:i.a}},jKCG:function(e,t,a){"use strict";var i=a("lQSI"),r=a("xipm"),l=a("0xDb"),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e};t.a={props:["treeGridForm","formColumns","formRules","dataSource"],data:function(){return{dialogFormVisible:!1,textMap:{create:"新增",update:"编辑"},dialogStatus:"",temp:{},moduleOptions:["启用","禁用"],dataArr:[]}},computed:n({},a.i(i.b)(["name","avatar","roles"])),mapGetters:function(){},created:function(){var e=this,t=this;r.a.$on("jh-add-form",function(a){if(void 0!=a&&0===t.dataArr.length){var i=!0,r=!1,l=void 0;try{for(var n,o=a[Symbol.iterator]();!(i=(n=o.next()).done);i=!0){var s=n.value;s.children&&t.dataArr.push(s)}}catch(e){r=!0,l=e}finally{try{!i&&o.return&&o.return()}finally{if(r)throw l}}}e.temp={id:"",value:"",module:"是",status:"启用"},t.dialogStatus="create",t.dialogFormVisible=!0}),r.a.$on("jh-edit-form",function(e){t.temp=Object.assign({},e),t.dialogStatus="update",t.dialogFormVisible=!0})},methods:{create:function(){var e=this;this.$refs.temp.validate(function(t){if(t){e.temp.id=e.dataSource.length+1,e.temp.creatorName=e.name,e.temp.createTime=a.i(l.b)(new Date);var i=Object.assign({},e.temp);if(e.treeGridForm){var n=!0,o=!1,s=void 0;try{for(var u,c=e.dataArr[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var d=u.value;d.id==i.value&&(e.temp.id=d.children[d.children.length-1].id+1,d.children.unshift(i))}}catch(e){o=!0,s=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw s}}}else e.dataSource.unshift(i);e.resetForm(),r.a.$emit("formData"),e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})}})},update:function(){var e=this;this.$refs.temp.validate(function(t){e.temp.modifierName=e.name,e.temp.modifyTime=a.i(l.b)(new Date);var i=Object.assign({},e.temp);if(t){var n=!0,o=!1,s=void 0;try{for(var u,c=e.dataSource[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var d=u.value;if(d.id===i.id)for(var m in i)d[m]=i[m]}}catch(e){o=!0,s=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw s}}e.resetForm(),r.a.$emit("formData"),e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})}})},resetForm:function(){this.dialogFormVisible=!1,this.$refs.temp.resetFields()}}}},"l+Ji":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("C/rY"),r=a("GFHU"),l=a("J0+h"),n=l(i.a,r.a,null,null,null);t.default=n.exports},lbbG:function(e,t,a){var i=a("z+PQ");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("XkoO")("225cb460",i,!0)},mjwM:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"toolbar"},[a("div",{staticClass:"tool-container clearfix"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary"},on:{click:e.handleCreate}},[a("icon-svg",{attrs:{"icon-class":"add"}}),e._v(" 新增")],1),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"document"},on:{click:e.handleDownload}},[e._v("数据导出")]),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"document"},on:{click:e.operation}},[e._v("编辑模式")]),e._v(" "),a("el-dropdown",{on:{command:e.handleCommand}},[a("el-button",{attrs:{type:"primary"}},[a("icon-svg",{attrs:{"icon-class":"add"}}),e._v("\n        配置\n        "),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})],1),e._v(" "),a("el-dropdown-menu",{slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"SManage"}},[e._v("服务管理")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"FManage"}},[e._v("功能管理")])],1)],1),e._v(" "),a("div",{staticClass:"filter-input"},[a("el-input",{attrs:{icon:"search",size:"small",placeholder:"插件名称"},on:{change:e.handleClick},model:{value:e.filtrate,callback:function(t){e.filtrate=t},expression:"filtrate"}})],1)],1),e._v(" "),a("s-f-manage",{attrs:{columns:e.columns,formColumns:e.formColumns}})],1)},r=[],l={render:i,staticRenderFns:r};t.a=l},n0jC:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.listQuery.page,"page-sizes":e.listQuery.pageSizes,"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.listQuery.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.listQuery.page=t}}})],1)},r=[],l={render:i,staticRenderFns:r};t.a=l},vsZq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("D++E"),r=a("mjwM"),l=a("J0+h"),n=l(i.a,r.a,null,null,null);t.default=n.exports},x0bm:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"temp",attrs:{model:e.temp,"label-width":"100px",rules:e.formRules}},e._l(e.formColumns,function(t){return a("el-form-item",{key:t.prop,attrs:{label:t.label,prop:t.prop}},["parentMenu"==t.prop?a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.temp.value,callback:function(t){e.temp.value=t},expression:"temp.value"}},e._l(e.dataArr,function(e){return a("el-option",{key:e.id,attrs:{label:e.unitName,value:e.id}})})):e._e(),e._v(" "),"status"==t.prop?a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:e.temp.status,callback:function(t){e.temp.status=t},expression:"temp.status"}},e._l(e.moduleOptions,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})):a("el-input",{attrs:{type:"text"},model:{value:e.temp[t.prop],callback:function(a){e.$set(e.temp,t.prop,a)},expression:"temp[item.prop]"}})],1)})),e._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(t){e.resetForm()}}},[e._v("取 消")]),e._v(" "),"create"==e.dialogStatus?a("el-button",{attrs:{type:"primary"},on:{click:e.create}},[e._v("确 定")]):a("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("确 定")])],1)],1)},r=[],l={render:i,staticRenderFns:r};t.a=l},xipm:function(e,t,a){"use strict";var i=a("UFcW");t.a=new i.default},"z+PQ":function(e,t,a){t=e.exports=a("YfG4")(!1),t.push([e.i,".waves-ripple{position:absolute;border-radius:100%;background-color:rgba(0,0,0,.15);background-clip:padding-box;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);opacity:1}.waves-ripple.z-active{opacity:0;-webkit-transform:scale(2);-ms-transform:scale(2);transform:scale(2);-webkit-transition:opacity 1.2s ease-out,-webkit-transform .6s ease-out;transition:opacity 1.2s ease-out,-webkit-transform .6s ease-out;transition:opacity 1.2s ease-out,transform .6s ease-out;transition:opacity 1.2s ease-out,transform .6s ease-out,-webkit-transform .6s ease-out}",""])}});